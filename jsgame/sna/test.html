<!DOCTYPE HTML>
<html>
<body>
<canvas id="myCanvas" width="400" height="400" style="border:1px solid #c3c3c3;"></canvas>
</body>
</html>

<script type="text/javascript">
var c=document.getElementById("myCanvas"),
    time =160 , 					//蛇的速度
    cxt=c.getContext("2d"),
    x =8, 
	y = 8,
    a = 0, 							//食物坐标
    t = 10, 						//舍身长
    map = [], 						//记录蛇运行路径
    size = 8, 						//蛇身单元大小
    direction = 2;   				// 1 向上  2 向右   0 左   3下
interval = window.setInterval(set_game_speed, time);   // 移动蛇
function set_game_speed(){   		// 移动蛇
	switch(direction){
		case 1:y = y-size;break;
		case 2:x = x+size;break;
		case 0:x = x-size;break;
		case 3:y = y+size;break;
	}
/*	if (map.length>t) {  			//保持舍身长度
		var cl = map.shift();  		//删除数组第一项，并且返回原元素
		cxt.clearRect(cl['x'], cl['y'], size, size);
	};*/ 
    map.push({'x':x,'y':y});  		//将数据添加到原数组尾部
	cxt.fillStyle = "#006699";		//内部填充颜色
	cxt.strokeStyle = "#006699";	//边框颜色
	cxt.fillRect(x, y, size, size);	//绘制矩形
}
document.onkeydown = function(e) {  //改变蛇方向
	var code = e.keyCode - 37;
	console.log(e.keyCode);
	switch(code){
		case 1 : direction = 1; 
			break;//上
		case 2 : direction = 2; 
			break;//右
		case 3 : direction = 3; 
			break;//下
		case 0 : direction = 0; 
			break;//左
	}
}


</script>